{% extends "lessons/base.html" %}
{% block title %}Set New Password | Lukore{% endblock %}
{% block content %}
<style>
  .wrap{min-height:70vh;display:grid;place-items:center;background:#f5f7fb;padding:24px}
  .card{width:100%;max-width:480px;background:#fff;border-radius:16px;box-shadow:0 20px 50px rgba(2,6,23,.08);overflow:hidden}
  .head{padding:24px;text-align:center;background:linear-gradient(180deg,rgba(14,165,233,.08),rgba(34,197,94,.08))}
  .brand{font-weight:800;color:#065f46}
  .body{padding:22px 24px}
  .label{display:block;font-size:13px;color:#334155;margin-bottom:6px;font-weight:600}
  .input{width:100%;padding:12px;border:1px solid #e2e8f0;border-radius:10px}
  .btn{width:100%;padding:12px;border:0;border-radius:10px;background:linear-gradient(90deg,#0ea5e9,#22c55e);color:#fff;font-weight:700;cursor:pointer}
  .msg{padding:18px;background:#f1f5f9;border-radius:12px;color:#334155}
</style>
<div class="wrap">
  <div class="card">
    {% if validlink %}
      <div class="head"><div class="brand">Set a new password</div></div>
      <div class="body">
        <form method="post">
          {% csrf_token %}
          <label class="label" for="id_new_password1">New password</label>
          {{ form.new_password1|add_class:"input" }}
          <label class="label" for="id_new_password2">Confirm new password</label>
          {{ form.new_password2|add_class:"input" }}
          <button class="btn" type="submit">Save password</button>
        </form>
      </div>
    {% else %}
      <div class="body">
        <div class="msg">This password reset link is invalid or has already been used. Please request a new password reset.</div>
      </div>
    {% endif %}
  </div>
</div>
{% endblock %}
