{% extends "lessons/base.html" %}

{% block title %}Sign in | Lukore Secondary School{% endblock %}

{% block content %}
<style>
  .auth-wrap {
    min-height: 90vh;
    display: grid;
    place-items: center;
    background: radial-gradient(1200px 600px at 20% -10%, #e6fff7 0%, transparent 60%),
                radial-gradient(1000px 500px at 120% 10%, #e9f0ff 0%, transparent 55%),
                linear-gradient(135deg, #0ea5e9 0%, #22c55e 100%);
    padding: 24px;
  }
  .auth-card {
    width: 100%;
    max-width: 420px;
    background: #ffffff;
    border-radius: 16px;
    box-shadow: 0 20px 50px rgba(2, 6, 23, 0.18);
    overflow: hidden;
  }
  .auth-header {
    padding: 28px 28px 12px 28px;
    text-align: center;
    background: linear-gradient(180deg, rgba(14,165,233,0.08), rgba(34,197,94,0.08));
  }
  .brand {
    font-weight: 800;
    font-size: 22px;
    color: #065f46;
    letter-spacing: 0.3px;
  }
  .subtitle { color: #475569; margin-top: 6px; }
  .auth-body { padding: 24px 28px 10px 28px; }
  .field { margin-bottom: 14px; }
  .label { display:block; font-size: 13px; color:#334155; margin-bottom: 6px; font-weight: 600; }
  .control { position: relative; }
  .input {
    width: 100%;
    padding: 12px 42px 12px 12px;
    border: 1px solid #e2e8f0;
    border-radius: 10px;
    background: #fff;
    color: #0f172a;
    outline: none;
    transition: box-shadow .18s, border-color .18s;
  }
  .input:focus { border-color:#22c55e; box-shadow: 0 0 0 4px rgba(34,197,94,.15); }
  .icon-right {
    position: absolute; right: 12px; top: 50%; transform: translateY(-50%);
    color: #94a3b8; font-size: 16px;
  }
  .btn-primary {
    width: 100%;
    padding: 12px 14px;
    border: 0; border-radius: 10px;
    background: linear-gradient(90deg, #0ea5e9, #22c55e);
    color: #fff; font-weight: 700; letter-spacing: .3px;
    box-shadow: 0 8px 18px rgba(14,165,233,.25);
    cursor: pointer;
    transition: transform .08s ease, box-shadow .2s;
  }
  .btn-primary:hover { box-shadow: 0 10px 22px rgba(34,197,94,.25); }
  .btn-primary:active { transform: translateY(1px); }
  .auth-footer { padding: 8px 28px 22px 28px; text-align:center; color:#64748b; font-size: 12px; }
  .error {
    background: #fee2e2; color: #991b1b;
    border: 1px solid #fecaca; border-radius: 10px;
    padding: 10px 12px; text-align: center; margin-top: 10px;
  }
</style>

<div class="auth-wrap">
  <div class="auth-card">
    <div class="auth-header">
      <img src="/media/LOGO/school%20badge.jpg" alt="Logo" style="height:48px; margin-bottom:10px;">
      <div class="brand">Lukore Secondary School</div>
      <div class="subtitle">Sign in to continue</div>
    </div>

    <div class="auth-body">
      <form method="post">
        {% csrf_token %}

        {% if form.non_field_errors %}
          <div class="error">{{ form.non_field_errors }}</div>
        {% endif %}

        <div class="field">
          <label for="id_username" class="label">Username</label>
          <div class="control">
            <input type="text" name="username" id="id_username" class="input" autocomplete="username" required>
            <span class="icon-right">&#128100;</span>
          </div>
        </div>

        <div class="field">
          <label for="id_password" class="label">Password</label>
          <div class="control">
            <input type="password" name="password" id="id_password" class="input" autocomplete="current-password" required>
            <span class="icon-right">&#128274;</span>
          </div>
        </div>

        <button type="submit" class="btn-primary">Login</button>
        <div style="text-align:center; margin-top:10px;">
          <a href="{% url 'simple_password_reset' %}" style="color:#0ea5e9; font-weight:600; text-decoration:none;">Forgot your password?</a>
        </div>

        {% if form.errors %}
          <div class="error">Invalid username or password</div>
        {% endif %}
      </form>
    </div>

    <div class="auth-footer">Â© 2025 Lukore</div>
  </div>
</div>
{% endblock %}
